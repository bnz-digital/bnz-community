// -------------
// Declare Fonts
// -------------

@font-face {
  font-family: "SerranoWeb";
  font-weight: 900;
  font-style: normal;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Black.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Black.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 900;
  font-style: italic;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-BlackItalic.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-BlackItalic.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 700;
  font-style: normal;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Bold.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Bold.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 700;
  font-style: italic;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-BoldItalic.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-BoldItalic.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 600;
  font-style: normal;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Semibold.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Semibold.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 600;
  font-style: italic;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-SemiboldItalic.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-SemiboldItalic.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 300;
  font-style: normal;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Light.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Light.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 300;
  font-style: italic;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-LightItalic.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-LightItalic.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 100;
  font-style: normal;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Thin.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Thin.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 100;
  font-style: italic;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-ThinItalic.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-ThinItalic.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 400;
  font-style: normal;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Regular.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Regular.woff?v=3") format("woff")
}

@font-face {
  font-family: "SerranoWeb";
  font-weight: 400;
  font-style: italic;
  src: url("https://www.bnz.co.nz/serrano/fonts/SerranoWeb-Italic.woff2?v=3") format("woff2"),url("fonts/SerranoWeb-Italic.woff?v=3") format("woff")
}

// ----------------
// Set up variables
// ----------------

:root {

// Colours

  // Core
  --blue:     #002f6b;
  --gold:     #FAA61A;
  --midnight: #00152F;

  // Action
  --midblue: #007DC3;
  --green:   #36A01C;
  --orange:  #E96D1E;
  --red:     #CC0000;

  // Secondary
  --guava:      #E95160;
  --wasabi:     #A1D884;
  --zest:       #FFE500;
  --lightteal:  #20CBD4;
  --lightblue:  #54C0E4;
  --smokeyblue: #7EB0CC;

  // Greys
  --black: #000000;
  --grey5: #333333;
  --grey4: #5A5A5A;
  --grey3: #B2B2B2;
  --grey2: #D0D0D0;
  --grey1: #F6F6F6;
  --white: #FFFFFF;

  // Transparent
  --blue-10:    rgba(0,47,107,0.1);
  --blue-30:    rgba(0,47,107,0.3);
  --blue-50:    rgba(0,47,107,0.5);
  --midblue-10: rgba(0,125,195,0.1);

  // Shadows
  --shadow-sml-light: 0 1px 3px var(--blue-10);
  --shadow-sml-med:   0 1px 3px var(--blue-30);
  --shadow-sml-dark:  0 1px 3px var(--blue-50);

  --shadow-lrg-light:   0 3px 15px var(--blue-10);

// Type

  // Font families
  --serrano: "SerranoWeb", "Arial Unicode MS", sans-serif;

  // Font settings
  --font-features: "kern" 1,"liga" 1,"calt" 1,"pnum" 1,"tnum" 0,"onum" 1,"lnum" 0,"dlig" 0;

  // Sizes
  --f-sml: 0.875rem; // 14px
  --f-med:     1rem; // 16px
  --f-semi: 1.25rem; // 20px
  --f-lrg:   1.5rem; // 24px
  --f-xlg:     2rem; // 32px
  --f-2xl:     3rem; // 48px
  --f-hero: 3.75rem; // 60px

// Widths

  --content-max: 75rem;

  // Units
  --u1: 0.625rem;
  --u2: calc( 2 * var(--u1) );
  --u3: calc( 3 * var(--u1) );
  --u4: calc( 4 * var(--u1) );
  --u6: calc( 6 * var(--u1) );
  --u8: calc( 8 * var(--u1) );

  // Border radius
  --lilround: 3px;
  --rounded: 5px;
  --circular: 50%;

}

// Sass variables that Discourse uses

$primary:           var(--grey5);
$secondary:         white;
$tertiary:          var(--midblue);
$quaternary:        var(--midblue);
$header_background: var(--grey1);
$header_primary:    var(--blue);
$highlight:         var(--zest);
$danger:            var(--red);
$success:           var(--green);
$love:              var(--blue);

// ---------------------------
// Helper functions and mixins
// ---------------------------

@mixin caps {
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

@mixin hide-accessibly {
  position: absolute !important;
  opacity: 0;
  pointer-events: none;
}

// URI icons

@mixin icon-mag {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='17' height='17' viewBox='0 0 17 17'%3E%3Ccircle fill='none' stroke='currentColor' cx='6.5' cy='6.5' r='6'/%3E%3Cpath fill='none' stroke='currentColor' stroke-width='2' d='M11.5 11.5l4 4'/%3E%3C/svg%3E");
}


// ------
// Resets
// ------

body, h1, h2, h3, h4, h5, h6,
p, blockquote, pre, hr,
dl, dd, ol, ul, figure {
  margin: 0;
  padding: 0;
}

// ----
// Base
// ----

html {
  background: white;
  color: var(--blue);
  font-size: 100%;
  line-height: 1.5625;
  font-feature-settings: var(--font-features);
  font-kerning: normal;
  text-rendering: optimizeLegibility;
  color: var(--midnight);
}

body {
  position: relative;
  max-width: 100vw;
  overflow-x: hidden;
}

hr {
  border-top: 1px solid var(--grey1);
}

// ----------
// Typography
// ----------

html,
body,
input,
button,
select,
textarea {
  font-family: var(--serrano)
}

a:not([class]) {
  background-color: transparent;
  background-image: -webkit-linear-gradient(transparent -300%,currentColor 600%);
  background-image: linear-gradient(transparent -300%,currentColor 600%);
  text-decoration: none;
  background-repeat: no-repeat;
  background-size: 100% 1px;
  background-position: 0 100%;
}

// ----------
// Components
// ----------

// Buttons

.btn {
  border-radius: var(--rounded);
  min-height: var(--u4);
}

// Alerts

.alert {
  border-radius: var(--rounded);
  padding: var(--u2) var(--u3);
  margin: var(--u2) 0;

  .close {
    top: auto;
    right: var(--u2);
  }

  .alert-info {
    background-color: var(--midblue-10);
  }
}

// Inputs

input[type="text"], 
input[type="password"], 
input[type="datetime"], 
input[type="datetime-local"], 
input[type="date"], 
input[type="month"], 
input[type="time"], 
input[type="week"], 
input[type="number"], 
input[type="email"], 
input[type="url"], 
input[type="search"], 
input[type="tel"], 
input[type="color"] {
  min-height: var(--u4);
  border-radius: var(--lilround);
}

div.ac-wrap {
  border-radius: var(--lilround);
  input[type="text"] {
    min-height: var(--u4);
  }
}

// Combo box

.select-kit.combo-box {
  .select-kit-header {
    height: var(--u4);
    border-radius: var(--lilround);
  }
  .select-kit-body {
    border-radius: var(--rounded);
    box-shadow: var(--shadow-lrg-light);
  }
}


// Category colour badges

.badge-wrapper {
  font-size: var(--f-sml);
}

.badge-wrapper.bullet .badge-category-parent-bg, .badge-wrapper.bullet .badge-category-bg {
  border-radius: var(--circular);
}

.badge-wrapper .badge-category .category-name {
  color: var(--grey5);
  font-weight: normal;
}

// Group boxes

.groups-boxes .group-box {
  border-radius: var(--rounded);
}

// ------
// Layout
// ------

// Header

.d-header {
  height: 3.75rem;
  box-shadow: none;
  box-shadow: inset 0 5px var(--blue);
  background-color: var(--grey1);

  .title a {
    display: inline-block;
    background-color: var(--blue);
    position: relative;
    top: 0;
    transition: 120ms ease-in-out;
    border-radius: 0 0 var(--lilround) var(--lilround);

    &:hover {
      top: 5px;
      transition: 100ms ease-out;
    }
  }

  #site-logo {
    box-sizing: border-box;
    height: 3.75rem;
    padding: 15px 15px 12.5px 20px;
    .logo-small {
      padding: 0.625rem;
    }
  }
}

  .extra-info-wrapper {
    padding: 5px 1rem 0;
    .topic-link {
      color: var(--blue);
    }
    .badge-wrapper.bullet,
    .badge-wrapper.bar,
    .badge-wrapper.none {
      span.badge-category {
        color: var(--blue);
      }
    }
  }

// Badges
  .extra-info-wrapper .badge-wrapper.bullet 
  .badge-category-parent-bg, 
  .extra-info-wrapper .badge-wrapper.bullet .badge-category-bg {
    border-radius: var(--circular);
  }

  .extra-info h1 {
    font-size: var(--f-semi);
  }

  .d-header-icons {
    position: relative;
    top: 2px;
    border-radius: var(--rounded);

    // User display picture
    .icon img.avatar {
      width: 1.875rem;
      height: 1.875rem;
    }

    // Menu and search icons
    .fa.d-icon.svg-icon {
      opacity: 0;
    }
    .icon {
      background-repeat: no-repeat;
      background-position: center;
      background-size: 1rem;
      border-radius: 3px;
      &:hover {
        background-color: white;
      }
    }
  }

  #search-button {
    @include icon-mag;
  }

  #toggle-hamburger-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 12'%3E%3Cpath d='M0 10h14v2H0zM0 0h14v2H0zm0 5h14v2H0z' fill='currentColor'/%3E%3C/svg%3E");
  }

  #current-user.header-dropdown-toggle {
    margin-left: 0.375rem;
  }

// Navigation menu panels

.menu-panel.drop-down {
  right: 0;
  border-radius: var(--rounded);
}

  .drop-down-mode .d-header-icons .active .icon {
    border: none;
  }

  .menu-panel {
    border: none;
    box-shadow: var(--shadow-lrg-light);
    padding: 1.25rem;

    li a,
    li.heading a {
      &:hover,
      &:focus {
        background-color: var(--grey1);
        outline: none;
        border-radius: var(--rounded);
      }
    }
  }


div.menu-links-header {
  .fa,
  a {
    color: var(--midnight);
  }

  a {
    &:hover,
    &:focus {
      background-color: var(--midblue-10);
      outline: none;
    }
  }
}

// User menu panel

.user-menu .notifications {
  li {
    background-color: var(--midblue-10);
    &:hover,
    &:focus {
      background-color: var(--grey1);
      outline: none; 
    }
    span:first-child {
      color: var(--midnight);
    }
  }
  a {
    background-image: none;
  }
  .d-icon {
    color: var(--midnight);
    opacity: 0.5;
  }
}

// Search

.search-container {

  .search-bar {
    min-height: var(--u4);
    // Search button
    .search-cta {
      min-height: var(--u4);
      min-width: var(--u4);
    }
  }

  .search-advanced-sidebar {

    .search-advanced-title {
      border-radius: var(--rounded) var(--rounded) 0 0;
      padding: var(--u1) 1rem;
    }

    .search-advanced-filters {
      .control-group {
        margin: var(--u1) 0;
      }
      .control-label {
        font-size: var(--f-sml);
        font-weight: bold;
      }
    }
  }
}

// List controls

// "All categories" button/dropdown

.list-controls {
  left-padding: var(--u2);

  .combo-box .combo-box-header {
    color: var(--midnight);
    border: 1px solid var(--midnight);
    height: var(--u4);
    text-transform: capitalize;
    font-size: var(--f-med);
  }
}

.select-kit.combo-box.select-kit-header.is-focused {
  border: none;
  border-radius: var(--lilround);
  box-shadow: inset 0 0 var(--lilround) var(--midblue-10);
}

.list-controls .combo-box .combo-box-header {
  border-radius: var(--rounded);
  padding: 15px var(--u1);
}

// Search categories

.select-kit.combo-box.category-drop .select-kit-body {
  border-radius: var(--rounded);
  box-shadow: var(--shadow-lrg-light);
}

// Nav pills

.nav-pills > li > a {
  border-radius: var(--rounded);
  height: var(--u4);
  font-size: var(--f-med);
  background-image: none;

  &:hover {
    background-color: var();
  }
}

// New topic button

.list-controls .btn {
  font-size: var(--f-med);
  height: var(--u4);
}

// ----------
// Topic list
// ----------

.topic-list-item {
  border-bottom: none;
  transition: 100ms;

  &:hover {
    background-color: var(--grey1);
    transition: 50ms;
  };
}

.topic-list {
  thead {
    @include hide-accessibly();
  }
  tbody {
    border: none;
  }
  th, td {
    padding: var(--u2) var(--u1);
    color: var(--grey5);

    &:first-of-type {
      padding-left: var(--u2);
    }

    .num {
      text-align: left;
      padding: 0;
    }
  }

  .link-bottom-line {
    margin: 0;
  }
}

.topic-list-main-link, .topic-list .main-link, .latest-topic-list-item .main-link {
  font-size: var(--f-semi);
}

.topic-list-main-link a.title, 
.topic-list .main-link a.title, 
.latest-topic-list-item .main-link a.title {
  padding: var(--u2) 0;
  color: var(--midnight);
}

.topic-list-item.visited a.title:not(.badge-notification), 
est-topic-list-item.visited a.title:not(.badge-notification), 
.category-topic-link.visited a.title:not(.badge-notification) {
  color: var(--grey4);
}
